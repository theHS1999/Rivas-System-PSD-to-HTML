<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>News Slider</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/swiper-bundle.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<div style="margin-top: 100px"></div>
<div class="container-fluid">
    <!---------------------- news section ---------------------->
    <section class="news-section">
        <div class="background">
            <div class="foreground">
                <div class="row">
                    <div class="col-md-5 selected-news-section">
                        <div class="selected-news">
                            <a href="" class="d-block">
                                <div class="image-container">
                                    <img src="" alt="" id="main-news-image">
                                    <div class="title" id="main-news-title">

                                    </div>
                                </div>
                                <div class="text" id="main-news-article">

                                </div>
                                <div class="more">
                                    <span>
                                        <img src="img/news-more-icon.png" alt="">
                                    </span>
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="col-md-7 news-list-section">
                        <div class="swiper-container news-list-slides">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide">
                                    <div class="news">
                                        <div class="sr-only">
                                            #
                                        </div>
                                        <div class="image-container">
                                            <img src="img/news-image-1.png" alt="">
                                        </div>
                                        <div class="text-container">
                                            <div class="news-title">
                                                موضوع خبر 1
                                            </div>
                                            <div class="news-article">
                                                کارخانه شیرآلات بهداشتی قهرمان ، یکی از پــــیشــتازان
                                                ، درعرصــه تولید شـیرهای ساخـتمانی ،لــوازم و تجهیزات حمام
                                                و شیر آلات الکترونیکی و بیـمارســـتانـــی است   محصولات این کارخانه، با
                                                بهــره گـیری از نیروهای متخصص و ماشین آلات روز دنیا تولید شده و همچنین
                                                دارای استــانداردهــــای بیــن
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="swiper-slide">
                                    <div class="news">
                                        <div class="sr-only link-to-page">
                                            #
                                        </div>
                                        <div class="image-container">
                                            <img src="img/image-1.png" alt="">
                                        </div>
                                        <div class="text-container">
                                            <div class="news-title">
                                                موضوع خبر 2
                                            </div>
                                            <div class="news-article">
                                                کارخانه شیرآلات بهداشتی قهرمان ، یکی از پــــیشــتازان
                                                ، درعرصــه تولید شـیرهای ساخـتمانی2 ،لــوازم و تجهیزات حمام
                                                و شیر آلات الکترونیکی و بیـمارســـsتانـــی است  2 محصولات این کارخانه، با
                                                بهــره گـیری از نیروهای متخصص و ماشین آلات روز2 دنیا تولید شده و همچنین
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="swiper-slide">
                                    <div class="news">
                                        <div class="sr-only link-to-page">
                                            #
                                        </div>
                                        <div class="image-container">
                                            <img src="img/image-2.png" alt="">
                                        </div>
                                        <div class="text-container">
                                            <div class="news-title">
                                                موضوع خبر 3
                                            </div>
                                            <div class="news-article">
                                                کارخانه شیرآلات بهداشتی قهرمان ، یکی از پــــیشــتازان3
                                                ، درعرصــه تولید شـیرهای ساخـتمانی3 ،لــوازم و تجهیزات حمام3
                                                3و شیر آلات الکترونیکی و بیـمارســـsتانـــی است  3 محصولات این کارخانه، با
                                                3بهــره گـیری از نیروهای متخصص و ماشین آلات روز3 دنیا تولید شده و همچنین
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="swiper-slide">
                                    <div class="news">
                                        <div class="sr-only link-to-page">
                                            #
                                        </div>
                                        <div class="image-container">
                                            <img src="img/image-2.png" alt="">
                                        </div>
                                        <div class="text-container">
                                            <div class="news-title">
                                                موضوع خبر 4
                                            </div>
                                            <div class="news-article">
                                                کارخانه شیرآلات بهداشتی قهرمان ، یکی از پــــیشــتازان3
                                                ، درعرصــه تولید شـیرهای ساخـتمانی3 ،لــوازم و تجهیزات حمام3
                                                3و شیر آلات الکترونیکی و بیـمارســـsتانـــی است  3 محصولات این کارخانه، با
                                                3بهــره گـیری از نیروهای متخصص و ماشین آلات روز3 دنیا تولید شده و همچنین
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Add Pagination -->
                            <div class="swiper-pagination news-list-pagination"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>

<!---------------------- scripts ---------------------->
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.bundle.js"></script>
<script src="js/swiper-bundle.min.js"></script>
<script>
    var newsSlide = new Swiper('.news-list-slides', {
        direction: 'vertical',
        slidesPerView: 3,
        slidesPerGroup: 1,
        spaceBetween: 10,
        mousewheel: true,
        pagination: {
            el: '.news-list-pagination',
            clickable: true,
        },
    });

    $(document).ready(function() {
        function setSelectedImage(link, title, text, image) {
            let newsSection = $(".selected-news a");
            newsSection.attr("href", link);
            newsSection.find(".image-container img").attr("src", image);
            newsSection.find(".image-container .title").text(title);
            newsSection.find(".text").text(text);
        }
        var selectedNews = $(".news-list-slides").find(".news").first();
        var selectedNewsLink = selectedNews.find(".link-to-page").text();
        var selectedNewsTitle = selectedNews.find(".text-container").find(".news-title").text();
        var selectedNewsText = selectedNews.find(".text-container").find(".news-article").text();
        var selectedNewsImage = selectedNews.find(".image-container").find("img").attr("src");
        setSelectedImage(selectedNewsLink, selectedNewsTitle, selectedNewsText, selectedNewsImage);
        $(".news").click(function () {
            let currentNewsLink = $(".selected-news a").attr("href");
            let currentNewsTitle = $(".selected-news a .image-container .title").text();
            let currentNewsImage = $(".selected-news a .image-container img").attr("src");
            let currentNewsText = $(".selected-news a .text").text();
            selectedNews = $(this);
            selectedNewsLink = selectedNews.find(".link-to-page").text();
            selectedNewsTitle = selectedNews.find(".text-container").find(".news-title").text();
            selectedNewsText = selectedNews.find(".text-container").find(".news-article").text();
            selectedNewsImage = selectedNews.find(".image-container").find("img").attr("src");
            if(!(selectedNewsTitle === currentNewsTitle && selectedNewsImage === currentNewsImage
                && selectedNewsText === currentNewsText && selectedNewsLink === currentNewsLink)) {
                $(".selected-news").animate({height: "toggle", opacity: "toggle"}, 300, function () {
                    setSelectedImage(selectedNewsLink, selectedNewsTitle, selectedNewsText, selectedNewsImage);
                });
                $(".selected-news").delay(200).animate({height: "toggle", opacity: "toggle"}, 300);
            }
        });
        $(".selected-news").mouseenter(function () {
            $(this).find(".more").find("span").find("img").attr("src", "img/news-more-hover.png");
        });
        $(".selected-news").mouseleave(function () {
            $(this).find(".more").find("span").find("img").attr("src", "img/news-more-icon.png");
        });
    });
</script>
</body>
</html>